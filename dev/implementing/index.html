<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Implementing the AbstractTrees API · AbstractTrees.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">AbstractTrees.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">AbstractTrees.jl</a></li><li class="is-active"><a class="tocitem" href>Implementing the AbstractTrees API</a><ul class="internal"><li><a class="tocitem" href="#Optional-functions"><span>Optional functions</span></a></li><li><a class="tocitem" href="#Type-traits"><span>Type traits</span></a></li><li><a class="tocitem" href="#Printing"><span>Printing</span></a></li><li><a class="tocitem" href="#Additional-Examples"><span>Additional Examples</span></a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Implementing the AbstractTrees API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Implementing the AbstractTrees API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaCollections/AbstractTrees.jl/blob/master/docs/src/implementing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Implementing-the-AbstractTrees-API"><a class="docs-heading-anchor" href="#Implementing-the-AbstractTrees-API">Implementing the AbstractTrees API</a><a id="Implementing-the-AbstractTrees-API-1"></a><a class="docs-heading-anchor-permalink" href="#Implementing-the-AbstractTrees-API" title="Permalink"></a></h1><p>Consider the following custom node type, which stores a single data value along with an explicit list of child nodes:</p><pre><code class="language-julia">struct MyNode{T}
    data::T
    children::Vector{MyNode{T}}
end

MyNode(data::T, children=MyNode{T}[]) where T = MyNode{T}(data, children)</code></pre><p>All that is needed to implement the <code>AbstractTrees</code> interface for <code>MyNode</code> is to define the appropriate method of <a href="../api/#AbstractTrees.children"><code>children</code></a>:</p><pre><code class="language-julia">using AbstractTrees

AbstractTrees.children(node::MyNode) = node.children

# output</code></pre><p>This is sufficient to enable most of the functionality of this package, such as basic printing and tree traversal:</p><pre><code class="language-julia">tree = MyNode(1, [
    MyNode(2, [
        MyNode(3),
        MyNode(4),
    ]),
    MyNode(5),
    MyNode(6, [
        MyNode(7),
    ]),
])

[node.data for node in PostOrderDFS(tree)]

# output

7-element Vector{Int64}:
 3
 4
 2
 5
 7
 6
 1</code></pre><h2 id="Optional-functions"><a class="docs-heading-anchor" href="#Optional-functions">Optional functions</a><a id="Optional-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-functions" title="Permalink"></a></h2><p>These functions have default implementations that depend only on the output of <code>children</code>, but may have suboptimal performance that can be improved by adding a custom method for your type.</p><h3 id="children-related-functions"><a class="docs-heading-anchor" href="#children-related-functions">children-related functions</a><a id="children-related-functions-1"></a><a class="docs-heading-anchor-permalink" href="#children-related-functions" title="Permalink"></a></h3><p>If the <code>children</code> method for your type involves a non-trivial amount of computation (e.g. if the returned child objects need to be created with each call instead of being explicitly stored in the parent as in the example above) providing your own implementation of these functions may significantly reduce overhead:</p><ul><li><a href="../api/#AbstractTrees.ischild"><code>ischild</code></a></li></ul><h3 id="Subtree-related"><a class="docs-heading-anchor" href="#Subtree-related">Subtree-related</a><a id="Subtree-related-1"></a><a class="docs-heading-anchor-permalink" href="#Subtree-related" title="Permalink"></a></h3><p>The following functions recurse through a node&#39;s entire subtree by default, which should be avoided if possible:</p><ul><li><a href="../api/#AbstractTrees.intree"><code>intree</code></a></li><li><a href="../api/#AbstractTrees.isdescendant"><code>isdescendant</code></a></li><li><a href="../api/#AbstractTrees.treebreadth"><code>treebreadth</code></a></li><li><a href="../api/#AbstractTrees.treesize"><code>treesize</code></a></li><li><a href="../api/#AbstractTrees.treeheight"><code>treeheight</code></a></li></ul><h2 id="Type-traits"><a class="docs-heading-anchor" href="#Type-traits">Type traits</a><a id="Type-traits-1"></a><a class="docs-heading-anchor-permalink" href="#Type-traits" title="Permalink"></a></h2><ul><li><a href="../api/#AbstractTrees.nodetype"><code>AbstractTrees.nodetype(tree)</code></a> can be defined to make iteration inferable.</li><li><a href="@ref"><code>AbstractTrees.ParentLinks</code></a> can be defined to return <a href="../api/#AbstractTrees.StoredParents"><code>AbstractTrees.StoredParents()</code></a> if a tree type stores explicit links to a parent; <a href="@ref"><code>AbstractTrees.SiblingLinks</code></a>, when set to <a href="../api/#AbstractTrees.StoredSiblings"><code>AbstractTrees.StoredSiblings()</code></a>, serves the same role for siblings. See their docstrings for more information.</li></ul><h2 id="Printing"><a class="docs-heading-anchor" href="#Printing">Printing</a><a id="Printing-1"></a><a class="docs-heading-anchor-permalink" href="#Printing" title="Permalink"></a></h2><p><a href="../api/#AbstractTrees.print_tree"><code>print_tree</code></a> calls the <a href="../api/#AbstractTrees.printnode"><code>AbstractTrees.printnode</code></a> function to display the representation of each node in the tree. The default implementation uses the output of <code>Base.show</code> (with an appropriate <code>IOContext</code>). You may override this to customize how your tree is printed:</p><pre><code class="language-julia">AbstractTrees.printnode(io::IO, node::MyNode) = print(io, &quot;MyNode($(node.data))&quot;)

print_tree(tree)

# output

MyNode(1)
├─ MyNode(2)
│  ├─ MyNode(3)
│  └─ MyNode(4)
├─ MyNode(5)
└─ MyNode(6)
   └─ MyNode(7)</code></pre><p>Typical implementations will print only a single line, but <code>print_tree</code> should maintain proper formatting and indentation with multi-line output.</p><h2 id="Additional-Examples"><a class="docs-heading-anchor" href="#Additional-Examples">Additional Examples</a><a id="Additional-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Additional-Examples" title="Permalink"></a></h2><p>The <a href="https://github.com/JuliaCollections/AbstractTrees.jl/tree/master/examples">examples folder</a> contains a number of usage examples of varying complexity.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« AbstractTrees.jl</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 28 December 2021 03:02">Tuesday 28 December 2021</span>. Using Julia version 1.7.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
